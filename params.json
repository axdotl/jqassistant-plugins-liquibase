{"name":"Jqassistant-plugins-liquibase","tagline":"Liquibase plugin for jQAssistant","body":"## jQAssistant-plugins-liquibase\r\n\r\nLiquibase plugin for [jQAssistant](https://jqassistant.org)\r\n\r\n### Screen\r\n![Latest](https://github.com/axdotl/jqassistant-plugins-liquibase/blob/master/liquibase/screens/latest.png)\r\n\r\n### Available constraints\r\n* ChangeSet\r\n  * w/o ID\r\n  * w/o author\r\n  * w/o comment\r\n* SQL refactoring w/o rollback\r\n* DROP refactorings w/o preCondition\r\n\r\n\r\n### Example queries\r\n```\r\n// Top 10 authors\r\nMATCH (set:ChangeSet)\r\nRETURN set.author, COUNT(set.author) as number\r\nORDER BY number DESC\r\nLIMIT 10;\r\n\r\n// All AddPrimaryKey changes w/o a constraint name or constraint name not like '<table_name>_PK'\r\nMATCH (log:ChangeLog)-[:HAS_CHANGESET]->(set:ChangeSet)-[:HAS_REFACTORING]->(addPk:AddPrimaryKey)\r\nWHERE addPk.constraintName <> UPPER(addPk.tableName)+\"_PK\"\r\n  OR addPk.constraintName IS NULL\r\nRETURN log.fileName, set.id,  set.author, addPk.tableName, addPk.columnNames, addPk.constraintName\r\nLIMIT 100;\r\n```\r\n\r\n### Getting started using Maven\r\n\r\n* Add the dependency to the jQAssistant Maven plugin\r\n\r\n```xml\r\n<build>\r\n\t<plugins>\r\n\t\t<plugin>\r\n\t\t\t<groupId>com.buschmais.jqassistant.scm</groupId>\r\n\t\t\t<artifactId>jqassistant-maven-plugin</artifactId>\r\n\t\t\t<version>1.0.0-M4</version>\r\n\t\t\t<executions>\r\n\t\t\t\t<execution>\r\n\t\t\t\t\t<goals>\r\n\t\t\t\t\t\t<goal>scan</goal>\r\n\t\t\t\t\t\t<goal>analyze</goal>\r\n\t\t\t\t\t</goals>\r\n\t\t\t\t</execution>\r\n\t\t\t</executions>\r\n\t\t\t<dependencies>\r\n\t\t\t\t<dependency>\r\n\t\t\t\t\t<groupId>com.github.axdotl</groupId>\r\n\t\t\t\t\t<artifactId>jqassistant-plugins-liquibase</artifactId>\r\n\t\t\t\t\t<version>0.0.3</version>\r\n\t\t\t\t</dependency>\r\n\t\t\t</dependencies>\r\n\t\t</plugin>\r\n\t</plugins>\r\n</build>\r\n```\r\n\r\n* Check availability of the rules\r\n\r\n```\r\nmvn jqassistant:available-rules\r\n```\r\n\r\nThe output will contain the following constraints:\r\n\r\n```\r\n\"liquibase:ChangeSetWithoutComment\" - All change sets has to specify a comment.\r\n\"liquibase:ChangeSetWithoutId\" - All change sets has to specify the id attribute.\r\n\"liquibase:SqlRefactoringWithoutRollback\" - A change with SQL refactoring must provide a rollback element.\r\n```\r\n\r\n* Scan and analyze\r\n\r\nNote: your liquibase changelog descriptors must be classpath resources (e.g. located in \"src/main/resources\")\r\n\r\n```\r\nmvn jqassistant:scan\r\nmvn jqassistant:analyze -Djqassistant.constraints=liquibase:ChangeSetWithoutComment,liquibase:ChangeSetWithoutId,liquibase:SqlRefactoringWithoutRollback\r\n```\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}